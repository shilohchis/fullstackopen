(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{18:function(e,t,n){e.exports=n(43)},23:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),u=n.n(c),l=n(17),o=n(2),i=function(e){var t=e.type,n=e.label;return r.a.createElement("div",null,r.a.createElement("button",{type:t},n))},m=function(e){var t=e.label,n=e.inputVal,a=e.changeInputVal;return r.a.createElement("div",null,r.a.createElement("label",null,t),r.a.createElement("input",{value:n,onChange:a}))},f=function(e){var t=e.data,n=t.button,a=t.inputs,c=n.type,u=n.label,l=n.submitHandler;return r.a.createElement("form",{onSubmit:l},a.map((function(e){var t=e.label,n=e.value,a=e.valueHandler;return r.a.createElement(m,{key:t,label:"".concat(t,":"),inputVal:n,changeInputVal:function(e){return a(e,t)}})})),r.a.createElement(i,{type:c,label:u}))},s=function(e){var t=e.value,n=e.changeValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{label:"filter shown with",inputVal:t,changeInputVal:function(e){return n(e.target.value)}}))},d=function(e){var t=e.datas,n=e.showKeys,a=e.onDelete;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("div",{key:n.map((function(t){return"".concat(e[t])}))},r.a.createElement("span",null,n.map((function(t){return"".concat(e[t]," ")}))),r.a.createElement("button",{onClick:function(){return t=e.id,void a(t);var t}},"delete"))})))},b=function(e){var t=e.number,n=e.text;switch(t){case 6:return r.a.createElement("h6",null,n);case 5:return r.a.createElement("h5",null,n);case 4:return r.a.createElement("h4",null,n);case 3:return r.a.createElement("h3",null,n);case 2:return r.a.createElement("h2",null,n);default:return r.a.createElement("h1",null,n)}},p=(n(23),function(e){var t=e.notification,n=t.text,a=t.type;return r.a.createElement("div",{className:n?"flash flash-".concat(a):"hide"},r.a.createElement("p",null,n))}),h=n(16),v=n.n(h),E=n(4),w=n.n(E),y="https://evening-oasis-19059.herokuapp.com/api/persons",g=function(e){return w.a.post(y,e).then((function(e){return e.data}))},j=function(){return w.a.get(y).then((function(e){return e.data}))},O=function(e){return w.a.delete("".concat(y,"/").concat(e)).then((function(e){return e.data}))},k=function(e,t){return w.a.put("".concat(y,"/").concat(t),e).then((function(e){return e.data}))},x=function(){var e={type:"",text:""},t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],u=n[1],i=Object(a.useState)(""),m=Object(o.a)(i,2),h=m[0],E=m[1],w=Object(a.useState)(""),y=Object(o.a)(w,2),x=y[0],S=y[1],V=Object(a.useState)(""),C=Object(o.a)(V,2),H=C[0],I=C[1],L=Object(a.useState)([]),D=Object(o.a)(L,2),F=D[0],J=D[1],K=Object(a.useState)([]),N=Object(o.a)(K,2),A=N[0],B=N[1],P=Object(a.useState)(e),R=Object(o.a)(P,2),T=R[0],U=R[1],q=function(){setTimeout((function(){U(e)}),3e3)},z=function(e){var t=e.target.value,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(n){case"name":S(t);break;default:I(t)}},G={button:{type:"submit",label:"add",submitHandler:function(e){e.preventDefault();var t=F.find((function(e){return e.name.toLowerCase()===x.toLowerCase()||e.number===H})),n={name:x,number:H};if(t){var a=x?"name":"phone";window.confirm("".concat(x.toLowerCase()===t.name.toLowerCase()?x:H," is already added to phonebook, replace the old ").concat(a," with a new one?"))&&k(n,t.id).then((function(e){J(F.map((function(n){return t.id==n.id?e:n}))),U({type:"success",text:"Updated ".concat(x)}),q()}))}else g(n).then((function(e){j(),J([].concat(Object(l.a)(F),[e])),U({type:"success",text:"Added ".concat(x)}),q()})),S(""),I("")}},inputs:[{label:"name",value:x,valueHandler:z},{label:"phone",value:H,valueHandler:z}]};return Object(a.useEffect)((function(){j().then((function(e){return J(F.concat(e))}))}),[]),r.a.createElement("div",null,r.a.createElement(b,{number:2,text:"Phonebook"}),r.a.createElement(p,{notification:T}),r.a.createElement(s,{value:h,changeValue:function(e){if(E(e),e.length>0){var t=v.a.filter(F,(function(t,n){for(var a=0,r=0,c=Object.keys(t);r<c.length;r++){var u=c[r];new RegExp(e,"i").test(t[u])&&++a}if(a>0)return t}));B(t),u(!1)}else u(!0)}}),r.a.createElement(b,{number:2,text:"add a new"}),r.a.createElement(f,{data:G}),r.a.createElement(b,{number:2,text:"Numbers"}),r.a.createElement(d,{datas:c?F:A,showKeys:["name","number"],onDelete:function(e){var t=F.find((function(t){return t.id==e}));O(e).then((function(t){J(F.filter((function(t){return t.id!=e})))})).catch((function(e){U({type:"error",text:"Information of ".concat(t.name," has already been removed from server")}),q()}))}}))};u.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.63670377.chunk.js.map